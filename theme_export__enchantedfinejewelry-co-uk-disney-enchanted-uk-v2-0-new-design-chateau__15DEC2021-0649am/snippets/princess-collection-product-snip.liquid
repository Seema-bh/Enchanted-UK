<div class="page-width product-grid-slider">
  {%- assign collection = collections[section.settings.collection] -%}
  {% if section.settings.title != blank %}
  <div class="section-header text-center bridal__jewelry wow fadeInUp">
    <h2 class="h3" onclick="location.href='{{ collection.url }}';">{{ section.settings.title | escape }}</h2>
  </div>
  {% endif %}
  
  {% case section.settings.grid %}
  {% when 2 %}
  {%- assign max_height = 530 -%}
  {%- assign grid_item_width = 'medium-up--one-half' -%}
  {% when 3 %}
  {%- assign max_height = 345 -%}
  {%- assign grid_item_width = 'small--one-half medium-up--one-third' -%}
  {% when 4 %}
  {%- assign max_height = 250 -%}
  {%- assign grid_item_width = 'small--one-half medium-up--one-quarter' -%}
  {% when 5 %}
  {%- assign max_height = 195 -%}
  {%- assign grid_item_width = 'small--one-half medium-up--one-fifth' -%}
  {% endcase %}
  
  {%- assign product_limit = section.settings.grid | times: section.settings.rows -%}
  
  <ul class="grid grid--uniform grid--view-items wow fadeInUp">
    {% for product in collection.products limit: product_limit %}
    <li class="grid__item mm-product-grid-wrapper grid__item--{{section.id}}">
        {% include 'product-card-grid', product: product %}
    </li>
    {% endfor %}
  </ul>
  
  {% if section.settings.button != blank %}
  <div class="button-wrapper">
    <a href="{{ collection.url }}" class="btn slider-btn">
      {{ section.settings.button }}
    </a>
  </div>
  {% endif %}
</div>